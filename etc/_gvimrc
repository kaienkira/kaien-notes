set nocompatible
set encoding=utf-8
set fileencoding=utf-8
set fileencodings=ucs-bom,utf-8,gb18030,cp936,big5,cp932,enc-jp,enc-kr,latin-1
set termencoding=cp936
set fileformat=unix
language messages zh_CN.utf-8

syntax on 
set number
set expandtab
set autoindent
set tabstop=4
set backspace=2
set softtabstop=4
set shiftwidth=4
set nowrap
set ruler
set laststatus=2
set statusline=%m%r%h%([File:%F]\ [Col:%v]\ [Lin:%l/%L/%p%%]%)
set foldmethod=syntax
set ambiwidth=double
colorscheme desert

set guioptions-=T
set winaltkeys=no
winpos 200 400
set lines=35
set columns=120
set noerrorbells
set visualbell t_vb=

function! BrickredCFold(lnum)
    if getline(a:lnum) =~ '^{$'
        return '>1'
    endif

    if getline(a:lnum) =~ '^}$'
        return '<1'
    endif

    return '-1'
endfunction

function! BR_RelativeNumberToggle()
    if (&relativenumber == 1)
        set norelativenumber
        set number
    else
        set number
        set relativenumber
    endif
endfunction

au GuiEnter * set t_vb=
au BufNewFile,BufRead *.c,*.cc,*.cpp set foldmethod=expr foldexpr=BrickredCFold(v:lnum)
au BufNewFile,BufRead Makefile,makefile,*.mak set noexpandtab

inoremap <C-j> <C-x><C-p>
nnoremap <C-j> :call BR_RelativeNumberToggle()<CR>
nnoremap <C-k> *N:set hlsearch!<CR>
nnoremap <A-1> 1gt
nnoremap <A-2> 2gt
nnoremap <A-3> 3gt
nnoremap <A-4> 4gt
nnoremap <A-5> 5gt
nnoremap <A-6> 6gt
nnoremap <A-7> 7gt
nnoremap <A-8> 8gt
nnoremap <A-9> 9gt
nnoremap <A-0> 10gt
inoremap <silent><A-1> <ESC>1gt
inoremap <silent><A-2> <ESC>2gt
inoremap <silent><A-3> <ESC>3gt
inoremap <silent><A-4> <ESC>4gt
inoremap <silent><A-5> <ESC>5gt
inoremap <silent><A-6> <ESC>6gt
inoremap <silent><A-7> <ESC>7gt
inoremap <silent><A-8> <ESC>8gt
inoremap <silent><A-9> <ESC>9gt
inoremap <silent><A-0> <ESC>10gt
nnoremap <silent><A-m> :tabm 0<CR>
inoremap <silent><A-m> <ESC>:tabm 0<CR>
