===============================================================================
-*- tun2socks -*-
===============================================================================
git clone https://github.com/ambrop72/badvpn.git
cd badvpn && mkdir build && cd build
cmake .. -DBUILD_NOTHING_BY_DEFAULT=1 -DBUILD_TUN2SOCKS=1 -DBUILD_UDPGW=1
make

ip tuntap add dev tun0 mode tun
ip addr change 10.0.0.1/24 dev tun0 dev tun0
ip link set tun0 up

===============================================================================
-*- privoxy -*-
===============================================================================
forward-socks5 / 127.0.0.1:9055 .

===============================================================================
-*- hts / htc -*-
===============================================================================
htc -k 1 -M 57600 -P <http_proxy> -F <local_port> <hts_addr>:<hts_port>
hts -p <pid_file> -k 1 -M 57600 -F <forward_addr>:<forward_port> <listen_addr>

===============================================================================
-*- haproxy -*-
===============================================================================
defaults
        log                     global
        mode                    tcp
        option                  dontlognull
        timeout connect         10000
        timeout client          150000
        timeout server          150000

frontend ss-in
        bind *:<port>
        default_backend ss-out

backend ss-out
        server server1 <host>:<port> maxconn 20480

===============================================================================
-*- socks5 to global -*-
===============================================================================
badvpn-tun2socks
socks5proxy
unbound
ip_forward
